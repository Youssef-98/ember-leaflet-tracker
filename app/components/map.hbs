<div class="map-container">
  <h1>Linked Open Data Challenge</h1>
  <p>Zoek uw gemeente op de kaart en klik erop om meer informatie te krijgen over de besluiten die er genomen werden.</p>

  <LeafletMap @lat={{this.lat}} @lng={{this.lng}} @zoom={{this.zoom}} as |layers|>
    <layers.tile @url={{this.url}} />

    {{#each @municipalities as |m|}}
      <layers.polygon @locations={{m.coordinates}} @color="green" as |polygon|>
        <polygon.popup @sticky={{true}}>
          <LinkTo @route="municipality" @model={{m.cityName}}>
            {{m.cityName}}
          </LinkTo>
          <p>aantal besluiten beschikbaar: {{m.count}}</p>
        </polygon.popup>
      </layers.polygon>
    {{/each}}
  </LeafletMap>
  
  <br>
  <ul>
    {{#each @municipalities as |m|}}
      <li><b>{{m.cityName}}</b><br />Aantal besluiten beschikbaar: {{m.count}}</li>
    {{else}}
      <p>nothing was found</p>
    {{/each}}
  </ul>
</div>